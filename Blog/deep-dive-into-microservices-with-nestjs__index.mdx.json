{
  "title": "Deep Dive into Microservices with NestJS",
  "publishedAt": "2024-05-27T00:00:00.000Z",
  "updatedAt": "2024-05-27T00:00:00.000Z",
  "description": "Explore the intricacies of building microservices with NestJS, from setting up your project to advanced inter-service communication.",
  "image": {
    "filePath": "../public/blogs/christina-wocintechchat-com-OtHEYbQXLFU-unsplash.jpg",
    "relativeFilePath": "../../public/blogs/christina-wocintechchat-com-OtHEYbQXLFU-unsplash.jpg",
    "format": "jpeg",
    "height": 1282,
    "width": 1920,
    "aspectRatio": 1.497659906396256,
    "blurhashDataUrl": "data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAeEAABBAIDAQAAAAAAAAAAAAABAAIDBBEhBRIUMf/EABQBAQAAAAAAAAAAAAAAAAAAAAP/xAAXEQEBAQEAAAAAAAAAAAAAAAAhABEB/9oADAMBAAIRAxEAPwCj5yzYr1/JRhkieJw5kr2OLGR5yQOoI382NZyiImxOx6N//9k="
  },
  "isPublished": true,
  "author": "codebucks",
  "tags": [
    "microservices",
    "nestjs",
    "web development",
    "backend"
  ],
  "body": {
    "raw": "\nMicroservices architecture has become increasingly popular due to its ability to enhance scalability, maintainability, and deployment flexibility. NestJS, a progressive Node.js framework, is well-suited for building efficient, reliable, and scalable server-side applications, including microservices. In this article, we'll take a deep dive into developing microservices with NestJS, covering everything from setting up a project to advanced communication patterns.\n\n## Introduction to Microservices and NestJS\n\nMicroservices architecture involves dividing a large application into smaller, independent services that communicate with each other. This contrasts with the monolithic architecture, where the entire application is a single, unified unit. NestJS is a powerful framework that simplifies the creation of microservices by providing out-of-the-box support for a variety of transport layers and communication protocols.\n\n## Setting Up a NestJS Project for Microservices\n\nTo get started with NestJS, you need to set up a new project. Here’s a step-by-step guide:\n\n1. **Install NestJS CLI**:\n   ```bash\n   npm install -g @nestjs/cli\n   ```\n2. **Create a New Project**:\n   ```bash\n   nest new project-name\n   ```\n3. **Project Structure**:\n   NestJS projects have a modular architecture. Key directories and files include:\n   - `src/`: Contains the application code.\n   - `main.ts`: Entry point of the application.\n   - `app.module.ts`: Root module of the application.\n\n## Understanding Core Concepts of Microservices in NestJS\n\nNestJS simplifies the development of microservices through its robust framework features. Key concepts include:\n\n- **Transport Layers**: NestJS supports various transport mechanisms like TCP, Redis, NATS, and more.\n- **Message Patterns**: Define how microservices communicate using predefined message patterns.\n- **Controllers, Services, and Modules**: These are the building blocks of a NestJS application, organized to facilitate modular and maintainable code.\n\n## Building a Simple Microservice with NestJS\n\nLet’s build a basic microservice:\n\n1. **Generate a Service and Controller**:\n   ```bash\n   nest generate service example\n   nest generate controller example\n   ```\n2. **Implement a Simple Endpoint**:\n\n   ```ts\n   // example.service.ts\n   import { Injectable } from \"@nestjs/common\";\n\n   @Injectable()\n   export class ExampleService {\n     getData(): string {\n       return \"Hello from microservice\";\n     }\n   }\n\n   // example.controller.ts\n   import { Controller, Get } from \"@nestjs/common\";\n   import { ExampleService } from \"./example.service\";\n\n   @Controller(\"example\")\n   export class ExampleController {\n     constructor(private readonly exampleService: ExampleService) {}\n\n     @Get()\n     getData(): string {\n       return this.exampleService.getData();\n     }\n   }\n   ```\n\n## Inter-Service Communication in NestJS\n\nNestJS offers multiple ways for microservices to communicate:\n\n- **HTTP**: Standard RESTful communication.\n- **Message Brokers**: Using Redis, NATS, or RabbitMQ for pub/sub messaging.\n\n### Example Using Redis:\n\n```ts\n// main.ts\nimport { NestFactory } from \"@nestjs/core\";\nimport { MicroserviceOptions, Transport } from \"@nestjs/microservices\";\nimport { AppModule } from \"./app.module\";\n\nasync function bootstrap() {\n  const app = await NestFactory.createMicroservice<MicroserviceOptions>(\n    AppModule,\n    {\n      transport: Transport.REDIS,\n      options: {\n        url: \"redis://localhost:6379\",\n      },\n    }\n  );\n  await app.listen();\n}\nbootstrap();\n```\n\n## Managing Data in a Microservices Architecture\n\nData management in microservices can be complex due to the need for decentralized data storage. A common approach is to use a database per service. Here’s how to integrate PostgreSQL with a NestJS microservice:\n\n1. **Install TypeORM and PostgreSQL**:\n   ```bash\n   npm install @nestjs/typeorm typeorm pg\n   ```\n2. **Configure TypeORM**:\n\n   ```ts\n   // app.module.ts\n   import { TypeOrmModule } from \"@nestjs/typeorm\";\n\n   @Module({\n     imports: [\n       TypeOrmModule.forRoot({\n         type: \"postgres\",\n         host: \"localhost\",\n         port: 5432,\n         username: \"test\",\n         password: \"test\",\n         database: \"test\",\n         entities: [__dirname + \"/**/*.entity{.ts,.js}\"],\n         synchronize: true,\n       }),\n       TypeOrmModule.forFeature([ExampleEntity]),\n     ],\n     controllers: [ExampleController],\n     providers: [ExampleService],\n   })\n   export class AppModule {}\n   ```\n\n## Error Handling and Logging in NestJS Microservices\n\nProper error handling and logging are crucial for maintaining microservices:\n\n- **Global Error Handling**:\n\n  ```ts\n  import {\n    ExceptionFilter,\n    Catch,\n    ArgumentsHost,\n    HttpException,\n  } from \"@nestjs/common\";\n  import { Request, Response } from \"express\";\n\n  @Catch(HttpException)\n  export class HttpErrorFilter implements ExceptionFilter {\n    catch(exception: HttpException, host: ArgumentsHost) {\n      const ctx = host.switchToHttp();\n      const response = ctx.getResponse<Response>();\n      const request = ctx.getRequest<Request>();\n      const status = exception.getStatus();\n\n      const errorResponse = {\n        code: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n        method: request.method,\n        message: exception.message || null,\n      };\n\n      response.status(status).json(errorResponse);\n    }\n  }\n  ```\n\n- **Logging with Winston**:\n\n  ```bash\n  npm install @nestjs/winston winston\n  ```\n\n  ```ts\n  // main.ts\n  import { Logger } from \"@nestjs/common\";\n  import { WinstonModule } from \"nest-winston\";\n  import * as winston from \"winston\";\n\n  const logger = WinstonModule.createLogger({\n    transports: [\n      new winston.transports.Console(),\n      new winston.transports.File({ filename: \"combined.log\" }),\n    ],\n  });\n\n  async function bootstrap() {\n    const app = await NestFactory.create(AppModule, {\n      logger,\n    });\n    await app.listen(3000);\n  }\n  bootstrap();\n  ```\n\n## Testing Microservices in NestJS\n\nTesting ensures your microservices function correctly:\n\n- **Unit Testing with Jest**:\n\n  ```ts\n  // example.service.spec.ts\n  import { Test, TestingModule } from \"@nestjs/testing\";\n  import { ExampleService } from \"./example.service\";\n\n  describe(\"ExampleService\", () => {\n    let service: ExampleService;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        providers: [ExampleService],\n      }).compile();\n\n      service = module.get<ExampleService>(ExampleService);\n    });\n\n    it('should return \"Hello from microservice\"', () => {\n      expect(service.getData()).toBe(\"Hello from microservice\");\n    });\n  });\n  ```\n\n## Deploying NestJS Microservices\n\nDeploying microservices often involves containerization and orchestration:\n\n- **Containerization with Docker**:\n\n  ```Dockerfile\n  FROM node:14\n  WORKDIR /usr/src/app\n  COPY package*.json ./\n  RUN npm install\n  COPY . .\n  EXPOSE 3000\n  CMD [\"npm\", \"run\", \"start:prod\"]\n  ```\n\n- **Orchestration with Kubernetes**:\n  ```yaml\n  apiVersion: apps/v1\n  kind: Deployment\n  metadata:\n    name: example-deployment\n  spec:\n    replicas: 2\n    selector:\n      matchLabels:\n        app: example\n    template:\n      metadata:\n        labels:\n          app: example\n      spec:\n        containers:\n          - name: example\n            image: example-image\n            ports:\n              - containerPort: 3000\n  ```\n\n## Advanced Topics in NestJS Microservices\n\nExplore more advanced aspects:\n\n- **Service Discovery and API Gateways**: Use tools like Consul and Kong.\n- **Security**: Implement JWT authentication and authorization.\n- **Distributed Tracing**: Use tools like Jaeger to trace requests across services.\n\n## Conclusion\n\nBuilding microservices with NestJS offers a robust and scalable solution for modern applications. By leveraging NestJS’s powerful features and modular architecture, you can create efficient and maintainable microservices. Continue exploring and experimenting with NestJS to fully harness its potential in your microservices projects.\n\nFor more information and detailed documentation, visit the [NestJS documentation](https://docs.nestjs.com/).\n\n---\n",
    "code": "var Component=(()=>{var h=Object.create;var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var m=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),g=(l,e)=>{for(var r in e)a(l,r,{get:e[r],enumerable:!0})},i=(l,e,r,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of E(e))!F.call(l,s)&&s!==r&&a(l,s,{get:()=>e[s],enumerable:!(c=p(e,s))||c.enumerable});return l};var u=(l,e,r)=>(r=l!=null?h(y(l)):{},i(e||!l||!l.__esModule?a(r,\"default\",{value:l,enumerable:!0}):r,l)),B=l=>i(a({},\"__esModule\",{value:!0}),l);var t=m((k,o)=>{o.exports=_jsx_runtime});var C={};g(C,{default:()=>v,frontmatter:()=>b});var n=u(t()),b={title:\"Deep Dive into Microservices with NestJS\",description:\"Explore the intricacies of building microservices with NestJS, from setting up your project to advanced inter-service communication.\",image:\"../../public/blogs/christina-wocintechchat-com-OtHEYbQXLFU-unsplash.jpg\",publishedAt:\"2024-05-27\",updatedAt:\"2024-05-27\",author:\"codebucks\",isPublished:!0,tags:[\"microservices\",\"nestjs\",\"web development\",\"backend\"]};function d(l){let e=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",strong:\"strong\",figure:\"figure\",pre:\"pre\",code:\"code\",ul:\"ul\",h3:\"h3\",hr:\"hr\"},l.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Microservices architecture has become increasingly popular due to its ability to enhance scalability, maintainability, and deployment flexibility. NestJS, a progressive Node.js framework, is well-suited for building efficient, reliable, and scalable server-side applications, including microservices. In this article, we'll take a deep dive into developing microservices with NestJS, covering everything from setting up a project to advanced communication patterns.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"introduction-to-microservices-and-nestjs\",children:[\"Introduction to Microservices and NestJS\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#introduction-to-microservices-and-nestjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Microservices architecture involves dividing a large application into smaller, independent services that communicate with each other. This contrasts with the monolithic architecture, where the entire application is a single, unified unit. NestJS is a powerful framework that simplifies the creation of microservices by providing out-of-the-box support for a variety of transport layers and communication protocols.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"setting-up-a-nestjs-project-for-microservices\",children:[\"Setting Up a NestJS Project for Microservices\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#setting-up-a-nestjs-project-for-microservices\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"To get started with NestJS, you need to set up a new project. Here\\u2019s a step-by-step guide:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Install NestJS CLI\"}),\":\",`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -g\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @nestjs/cli\"})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Create a New Project\"}),\":\",`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"nest\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" project-name\"})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Project Structure\"}),`:\nNestJS projects have a modular architecture. Key directories and files include:`,`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"src/\"}),\": Contains the application code.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"main.ts\"}),\": Entry point of the application.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"app.module.ts\"}),\": Root module of the application.\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"understanding-core-concepts-of-microservices-in-nestjs\",children:[\"Understanding Core Concepts of Microservices in NestJS\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#understanding-core-concepts-of-microservices-in-nestjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"NestJS simplifies the development of microservices through its robust framework features. Key concepts include:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Transport Layers\"}),\": NestJS supports various transport mechanisms like TCP, Redis, NATS, and more.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Message Patterns\"}),\": Define how microservices communicate using predefined message patterns.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Controllers, Services, and Modules\"}),\": These are the building blocks of a NestJS application, organized to facilitate modular and maintainable code.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"building-a-simple-microservice-with-nestjs\",children:[\"Building a Simple Microservice with NestJS\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#building-a-simple-microservice-with-nestjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Let\\u2019s build a basic microservice:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Generate a Service and Controller\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"nest\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" generate\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" service\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" example\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"nest\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" generate\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" controller\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" example\"})]})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Implement a Simple Endpoint\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// example.service.ts\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Injectable } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/common\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Injectable\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ExampleService\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  getData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"Hello from microservice\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// example.controller.ts\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Controller, Get } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/common\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ExampleService } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./example.service\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Controller\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"example\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ExampleController\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  constructor\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"private\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" readonly\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\" exampleService\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ExampleService\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {}\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  @\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  getData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" this\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".exampleService.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"inter-service-communication-in-nestjs\",children:[\"Inter-Service Communication in NestJS\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#inter-service-communication-in-nestjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"NestJS offers multiple ways for microservices to communicate:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"HTTP\"}),\": Standard RESTful communication.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Message Brokers\"}),\": Using Redis, NATS, or RabbitMQ for pub/sub messaging.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"example-using-redis\",children:[\"Example Using Redis:\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#example-using-redis\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// main.ts\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { NestFactory } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/core\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { MicroserviceOptions, Transport } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/microservices\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { AppModule } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./app.module\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" bootstrap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" NestFactory.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createMicroservice\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"MicroserviceOptions\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">(\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    AppModule,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      transport: Transport.\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"REDIS\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      options: {\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        url: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"redis://localhost:6379\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      },\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"bootstrap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"managing-data-in-a-microservices-architecture\",children:[\"Managing Data in a Microservices Architecture\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#managing-data-in-a-microservices-architecture\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Data management in microservices can be complex due to the need for decentralized data storage. A common approach is to use a database per service. Here\\u2019s how to integrate PostgreSQL with a NestJS microservice:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Install TypeORM and PostgreSQL\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @nestjs/typeorm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" typeorm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" pg\"})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Configure TypeORM\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// app.module.ts\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { TypeOrmModule } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/typeorm\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Module\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  imports: [\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    TypeOrmModule.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forRoot\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      type: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"postgres\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      host: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"localhost\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      port: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"5432\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      username: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"test\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      password: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"test\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      database: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"test\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      entities: [__dirname \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"/**/*.entity{.ts,.js}\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"],\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      synchronize: \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }),\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    TypeOrmModule.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"forFeature\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"([ExampleEntity]),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ],\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  controllers: [ExampleController],\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  providers: [ExampleService],\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" AppModule\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {}\"})]})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"error-handling-and-logging-in-nestjs-microservices\",children:[\"Error Handling and Logging in NestJS Microservices\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#error-handling-and-logging-in-nestjs-microservices\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Proper error handling and logging are crucial for maintaining microservices:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Global Error Handling\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ExceptionFilter,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  Catch,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ArgumentsHost,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  HttpException,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/common\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Request, Response } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"express\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"@\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(HttpException)\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" class\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" HttpErrorFilter\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" implements\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ExceptionFilter\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  catch\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"exception\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" HttpException\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"host\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ArgumentsHost\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" ctx\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" host.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"switchToHttp\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ctx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Response\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" request\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ctx.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getRequest\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Request\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">();\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" status\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" exception.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getStatus\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" errorResponse\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      code: status,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      timestamp: \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"().\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toISOString\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      path: request.url,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      method: request.method,\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      message: exception.message \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    response.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"status\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(status).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(errorResponse);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Logging with Winston\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"npm\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" install\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" @nestjs/winston\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" winston\"})]})})})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// main.ts\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Logger } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/common\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { WinstonModule } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"nest-winston\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" *\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" as\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" winston \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"winston\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" logger\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" WinstonModule.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createLogger\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  transports: [\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    new\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" winston.transports.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Console\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    new\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" winston.transports.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"File\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ filename: \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"combined.log\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }),\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  ],\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" bootstrap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" app\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" NestFactory.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"create\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(AppModule, {\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    logger,\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" app.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"bootstrap\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"testing-microservices-in-nestjs\",children:[\"Testing Microservices in NestJS\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#testing-microservices-in-nestjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Testing ensures your microservices function correctly:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Unit Testing with Jest\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// example.service.spec.ts\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Test, TestingModule } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"@nestjs/testing\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { ExampleService } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./example.service\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"describe\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"ExampleService\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  let\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" service\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" ExampleService\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  beforeEach\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"async\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" module\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" TestingModule\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Test.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"createTestingModule\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"      providers: [ExampleService],\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"compile\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    service \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" module\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ExampleService\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">(ExampleService);\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  it\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:`'should return \"Hello from microservice\"'`}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    expect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(service.\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getData\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"()).\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toBe\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Hello from microservice\"'}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"deploying-nestjs-microservices\",children:[\"Deploying NestJS Microservices\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#deploying-nestjs-microservices\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Deploying microservices often involves containerization and orchestration:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Containerization with Docker\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"Dockerfile\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"Dockerfile\",\"data-theme\":\"github-dark\",children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"FROM node:14\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"WORKDIR /usr/src/app\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"COPY package*.json ./\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"RUN npm install\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"COPY . .\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:\"EXPOSE 3000\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{children:'CMD [\"npm\", \"run\", \"start:prod\"]'})})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Orchestration with Kubernetes\"}),\":\"]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"yaml\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"yaml\",\"data-theme\":\"github-dark\",children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"apiVersion\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"apps/v1\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"kind\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"Deployment\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"metadata\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"  name\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"example-deployment\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"spec\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"  replicas\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"2\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"  selector\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"    matchLabels\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"      app\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"example\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"  template\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"    metadata\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"      labels\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"        app\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"example\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"    spec\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"      containers\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        - \"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"name\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"example\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"          image\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"example-image\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"          ports\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            - \"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"containerPort\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"3000\"})]})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"advanced-topics-in-nestjs-microservices\",children:[\"Advanced Topics in NestJS Microservices\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#advanced-topics-in-nestjs-microservices\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Explore more advanced aspects:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Service Discovery and API Gateways\"}),\": Use tools like Consul and Kong.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Security\"}),\": Implement JWT authentication and authorization.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Distributed Tracing\"}),\": Use tools like Jaeger to trace requests across services.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"conclusion\",children:[\"Conclusion\",(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Building microservices with NestJS offers a robust and scalable solution for modern applications. By leveraging NestJS\\u2019s powerful features and modular architecture, you can create efficient and maintainable microservices. Continue exploring and experimenting with NestJS to fully harness its potential in your microservices projects.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"For more information and detailed documentation, visit the \",(0,n.jsx)(e.a,{href:\"https://docs.nestjs.com/\",children:\"NestJS documentation\"}),\".\"]}),`\n`,(0,n.jsx)(e.hr,{})]})}function f(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,Object.assign({},l,{children:(0,n.jsx)(d,l)})):d(l)}var v=f;return B(C);})();\n;return Component;"
  },
  "_id": "deep-dive-into-microservices-with-nestjs/index.mdx",
  "_raw": {
    "sourceFilePath": "deep-dive-into-microservices-with-nestjs/index.mdx",
    "sourceFileName": "index.mdx",
    "sourceFileDir": "deep-dive-into-microservices-with-nestjs",
    "contentType": "mdx",
    "flattenedPath": "deep-dive-into-microservices-with-nestjs"
  },
  "type": "Blog",
  "url": "/blogs/deep-dive-into-microservices-with-nestjs",
  "readingTime": {
    "text": "5 min read",
    "minutes": 4.635,
    "time": 278100,
    "words": 927
  },
  "toc": [
    {
      "level": "two",
      "text": "Introduction to Microservices and NestJS",
      "slug": "introduction-to-microservices-and-nestjs"
    },
    {
      "level": "two",
      "text": "Setting Up a NestJS Project for Microservices",
      "slug": "setting-up-a-nestjs-project-for-microservices"
    },
    {
      "level": "two",
      "text": "Understanding Core Concepts of Microservices in NestJS",
      "slug": "understanding-core-concepts-of-microservices-in-nestjs"
    },
    {
      "level": "two",
      "text": "Building a Simple Microservice with NestJS",
      "slug": "building-a-simple-microservice-with-nestjs"
    },
    {
      "level": "two",
      "text": "Inter-Service Communication in NestJS",
      "slug": "inter-service-communication-in-nestjs"
    },
    {
      "level": "three",
      "text": "Example Using Redis:",
      "slug": "example-using-redis"
    },
    {
      "level": "two",
      "text": "Managing Data in a Microservices Architecture",
      "slug": "managing-data-in-a-microservices-architecture"
    },
    {
      "level": "two",
      "text": "Error Handling and Logging in NestJS Microservices",
      "slug": "error-handling-and-logging-in-nestjs-microservices"
    },
    {
      "level": "two",
      "text": "Testing Microservices in NestJS",
      "slug": "testing-microservices-in-nestjs"
    },
    {
      "level": "two",
      "text": "Deploying NestJS Microservices",
      "slug": "deploying-nestjs-microservices"
    },
    {
      "level": "two",
      "text": "Advanced Topics in NestJS Microservices",
      "slug": "advanced-topics-in-nestjs-microservices"
    },
    {
      "level": "two",
      "text": "Conclusion",
      "slug": "conclusion"
    }
  ]
}